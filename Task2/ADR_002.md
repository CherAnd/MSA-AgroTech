### Название задачи: MVP Управление животноводством. Проработка высокоуровневого видения решений 
### Автор: Черепанов Андрей
### Дата: 20.09.2025


### Контекст

Высокоуровневое видение на уровне контейнерной диаграммы

[Решение 1](C2_Вариант1.puml)

[Решение 2](C2_Вариант2.puml)


### Описание решения

На уровне контейнеров Система управления животноводством образует две группы контейнеров:
1. Система управления фермой
2. Комплекс управления животноводством

#### Система управления фермой

Для ускорения внедрения предлагается взять готовые модули SCADA для реализации взаимодействия с датчиками и исполнительными механизмами.
SCADA SmartICS является модульной. Набор модулей может быть выбран под требуемую задачу. Каждый модуль может быть развёрнут как отдельный контейнер.

Система включает в себя 14 логических контейнеров:

1. Датчики уровня и качества воды. Датчики кормов. Представляют собой физические изделия, позволяющие передавать сигналы по протоколу Modbus TCP.
2. Поилки и кормилки. Представляют собой физические изделия, позволяющие принимать команды управления и передавать сигналы обратной связи. Работают по протоколу Modbus TCP.
3. Модуль SmartICS Modbus TCP. Обеспечивает связь между оборудованием и SCADA-системой 
4. Модуль SmartICS Core. Основной модуль SCADA-системы
5. Модуль SmartICS Historian. Модуль сохранения исторических данных. Обеспечивает необходимую глубину и аггрегацию данных для требуемые исторических срезов.
6. Модуль SmartICS Webserver. Предоставляет SPA-приложение и поставляет для него данные.
7. Веб-интерфейс фермы. SPA-приложение. Разработано на Vue. Входит в комплект поставки SmartICS
8. Модуль SmartICS Kafka. Обеспечивает трансляцию данных из SCADA-системы в брокер сообщений. При проблемах связи с брокером обеспечивает передачу данных с момента разрыва.
9. Камеры наблюдения. Физические изделия
10. Хранилище сырых видеоданных. Используется в качестве буфера видеоданных на время простоя сервиса анализа поведения животных.
11. Сервис анализа поведения животных. Служит для подсчёта поголовья скота, а также формирования аварийных сигналов (смерть, драка и т.д.)
12. Хранилище размеченных видеоданных. Служит для дальнейшего совершенствования системы анализа
13. База данных пользователей
14. База исторических данных


#### Комплекс управления животноводством

Включает в себя 3 логических контейнера:

1. Веб-интерфейс
2. Сервис управления животноводством
3. База данных для сервиса управления животноводством

